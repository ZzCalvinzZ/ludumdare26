// Generated by CoffeeScript 1.6.2
(function() {
  goog.provide('game');

  goog.require('lime.Director');

  goog.require('lime.Scene');

  goog.require('lime.Layer');

  goog.require('lime.Circle');

  goog.require('lime.Label');

  goog.require('lime.animation.Spawn');

  goog.require('lime.animation.FadeTo');

  goog.require('lime.animation.ScaleTo');

  goog.require('lime.animation.MoveTo');

  goog.require('game.TitleScreen');

  game.start = function() {
    var circle, lbl, scene, target, title;

    game.director = new lime.Director(document.body, 1024, 768);
    scene = new lime.Scene();
    target = new lime.Layer().setPosition(512, 384);
    circle = new lime.Circle().setSize(150, 150).setFill(255, 150, 0);
    lbl = new lime.Label().setSize(160, 50).setFontSize(30).setText('TOUCH ME!');
    title = new lime.Label().setSize(800, 70).setFontSize(60).setText('Now move me around!').setOpacity(0).setPosition(512, 80).setFontColor('#999').setFill(200, 100, 0, .1);
    target.appendChild(circle);
    target.appendChild(lbl);
    scene.appendChild(target);
    scene.appendChild(title);
    game.director.makeMobileWebAppCapable();
    goog.events.listen(target, ['mousedown', 'touchstart'], function(e) {
      target.runAction(new lime.animation.Spawn(new lime.animation.FadeTo(.5).setDuration(.2), new lime.animation.ScaleTo(1.5).setDuration(.8)));
      title.runAction(new lime.animation.FadeTo(1));
      e.startDrag();
      return e.swallow(['mouseup', 'touchend'], function() {
        target.runAction(new lime.animation.Spawn(new lime.animation.FadeTo(1), new lime.animation.ScaleTo(1), new lime.animation.MoveTo(512, 384)));
        return title.runAction(new lime.animation.FadeTo(0));
      });
    });
    game.director.replaceScene(scene);
    return game.titleScreen();
  };

  game.switchScene = function(sceneContents, transition, duration) {
    var layer, scene;

    scene = new lime.Scene();
    layer = new lime.Layer();
    scene.appendChild(layer);
    layer.appendChild(sceneContents);
    return game.director.replaceScene(scene, transition, duration);
  };

  game.titleScreen = function() {
    var scene, transition;

    scene = new game.TitleScreen();
    transition = lime.transitions.Dissolve;
    return game.switchScene(scene, transition, 2);
  };

  game.startGame = function(mode) {};

  goog.exportSymbol('game.start', game.start);

}).call(this);
